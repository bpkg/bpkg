var data = {lines:[
{"lineNum":"    1","line":"#!/bin/bash"},
{"lineNum":"    2","line":""},
{"lineNum":"    3","line":"VERSION=\"0.0.1\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    4","line":""},
{"lineNum":"    5","line":"if ! type -f bpkg-utils &>/dev/null; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    6","line":"  echo \"error: bpkg-utils not found, aborting\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    7","line":"  exit 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    8","line":"else"},
{"lineNum":"    9","line":"  source $(which bpkg-utils)","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   10","line":"fi"},
{"lineNum":"   11","line":""},
{"lineNum":"   12","line":"bpkg_initrc","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   13","line":""},
{"lineNum":"   14","line":"usage () {"},
{"lineNum":"   15","line":"  mesg=$1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   16","line":"  if [ \"$mesg\" != \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   17","line":"    echo \"$mesg\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   18","line":"    echo","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   19","line":"  fi"},
{"lineNum":"   20","line":"  echo \"bpkg-show [-Vh]\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   21","line":"  echo \"bpkg-show <user/package_name>\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   22","line":"  echo \"bpkg-show readme <user/package_name>\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   23","line":"  echo \"bpkg-show sources <user/package_name>\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   24","line":"  echo","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   25","line":"  echo \"Show bash package details.  You must first run \\`bpkg update\' to sync the repo locally.\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   26","line":"  echo","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   27","line":"  echo \"Commands:\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   28","line":"  echo \"  readme        Print package README.md file, if available, suppressing other output\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   29","line":"  echo \"  sources       Print all sources listed in package.json scripts, in order. This\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   30","line":"  echo \"                option suppresses other output and prints executable bash.\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   31","line":"  echo","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   32","line":"  echo \"Options:\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   33","line":"  echo \"  --help|-h     Print this help dialogue\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   34","line":"  echo \"  --version|-V  Print version and exit\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   35","line":"}"},
{"lineNum":"   36","line":""},
{"lineNum":"   37","line":"show_package () {"},
{"lineNum":"   38","line":"  local pkg=$1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   39","line":"  local desc=$2","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   40","line":"  local show_readme=$3","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   41","line":"  local show_sources=$4","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   42","line":"  local host=$BPKG_REMOTE_HOST","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   43","line":"  local remote=$BPKG_REMOTE","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   44","line":"  local git_remote=$BPKG_GIT_REMOTE","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   45","line":"  local auth=\"\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   46","line":"  local json=\"\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   47","line":"  local readme=\"\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   48","line":"  local uri=\"\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   49","line":""},
{"lineNum":"   50","line":"  if [ \"$BPKG_OAUTH_TOKEN\" != \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   51","line":"    auth=\"-u $BPKG_OAUTH_TOKEN:x-oauth-basic\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   52","line":"  fi"},
{"lineNum":"   53","line":""},
{"lineNum":"   54","line":"  if [ \"$auth\" == \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   55","line":"    uri=$BPKG_REMOTE/$pkg/master","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   56","line":"  else"},
{"lineNum":"   57","line":"    uri=$BPKG_REMOTE/$pkg/raw/master","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   58","line":"  fi"},
{"lineNum":"   59","line":""},
{"lineNum":"   60","line":"  json=$(eval \"curl $auth -sL \'$uri/package.json?$(date +%s)\'\")","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   61","line":"  readme=$(eval \"curl $auth -sL \'$uri/README.md?$(date +%s)\'\")","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   62","line":""},
{"lineNum":"   63","line":"  local readme_len=$(echo \"$readme\" | wc -l | tr -d \' \')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   64","line":""},
{"lineNum":"   65","line":"  local version=$(echo \"$json\" | bpkg-json -b | grep \'\"version\"\' | sed \'s/.*version\"\\]\\s*//\' | tr -d \'\\t\' | tr -d \'\"\')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   66","line":"  local author=$(echo \"$json\" | bpkg-json -b | grep \'\"author\"\' | sed \'s/.*author\"\\]\\s*//\' | tr -d \'\\t\' | tr -d \'\"\')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   67","line":"  local pkg_desc=$(echo \"$json\" | bpkg-json -b | grep \'\"description\"\' | sed \'s/.*description\"\\]\\s*//\' | tr -d \'\\t\' | tr -d \'\"\')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   68","line":"  local sources=$(echo \"$json\" | bpkg-json -b | grep \'\"scripts\"\' | cut -f 2 | tr -d \'\"\' )","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   69","line":"  local description=$(echo \"$json\" | bpkg-json -b | grep \'\"description\"\')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   70","line":"  local install_sh=$(echo \"$json\" | bpkg-json -b | grep \'\"install\"\' | sed \'s/.*install\"\\]\\s*//\' | tr -d \'\\t\' | tr -d \'\"\')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   71","line":""},
{"lineNum":"   72","line":"  if [ \"$pkg_desc\" != \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   73","line":"    desc=\"$pkg_desc\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   74","line":"  fi"},
{"lineNum":"   75","line":""},
{"lineNum":"   76","line":"  if [ \"$show_sources\" == \'0\' ] && [ \"$show_readme\" == \"0\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   77","line":"    echo \"Name: $pkg\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   78","line":"    if [ \"$author\" != \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   79","line":"      echo \"Author: $author\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   80","line":"    fi"},
{"lineNum":"   81","line":"    echo \"Description: $desc\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   82","line":"    echo \"Current Version: $version\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   83","line":"    echo \"Remote: $git_remote\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   84","line":"    if [ \"$install_sh\" != \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   85","line":"      echo \"Install: $install_sh\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   86","line":"    fi"},
{"lineNum":"   87","line":"    if [ \"$readme\" == \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   88","line":"      echo \"README.md: Not Available\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   89","line":"    else"},
{"lineNum":"   90","line":"      echo \"README.md: ${readme_len} lines\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   91","line":"    fi"},
{"lineNum":"   92","line":"  elif [ \"$show_readme\" != \'0\' ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   93","line":"    echo \"$readme\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   94","line":"  else"},
{"lineNum":"   95","line":"    # Show Sources"},
{"lineNum":"   96","line":"    OLDIFS=\"$IFS\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   97","line":"    IFS=$\'\\n\'","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   98","line":"    for src in $(echo \"$sources\"); do","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   99","line":"      local http_code=$(eval \"curl $auth -sL \'$uri/$src?$(date +%s)\' -w \'%{http_code}\' -o /dev/null\")","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  100","line":"      if (( http_code < 400 )); then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  101","line":"        local content=$(eval \"curl $auth -sL \'$uri/$src?$(date +%s)\'\")","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  102","line":"        echo \"#[$src]\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  103","line":"        echo \"$content\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  104","line":"        echo \"#[/$src]\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  105","line":"      else"},
{"lineNum":"  106","line":"        bpkg_warn \"source not found: $src\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  107","line":"      fi"},
{"lineNum":"  108","line":"    done"},
{"lineNum":"  109","line":"    IFS=\"$OLDIFS\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  110","line":"  fi"},
{"lineNum":"  111","line":"}"},
{"lineNum":"  112","line":""},
{"lineNum":"  113","line":""},
{"lineNum":"  114","line":"bpkg_show () {"},
{"lineNum":"  115","line":"  local readme=0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  116","line":"  local sources=0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  117","line":"  local pkg=\"\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  118","line":"  for opt in \"${@}\"; do","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  119","line":"    case \"$opt\" in","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  120","line":"      -V|--version)"},
{"lineNum":"  121","line":"        echo \"${VERSION}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  122","line":"        return 0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  123","line":"        ;;"},
{"lineNum":"  124","line":"      -h|--help)"},
{"lineNum":"  125","line":"        usage","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  126","line":"        return 0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  127","line":"        ;;"},
{"lineNum":"  128","line":"      readme)"},
{"lineNum":"  129","line":"        readme=1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  130","line":"        if [ \"$sources\" == \"1\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  131","line":"          usage \"Error: readme and sources are mutually exclusive options\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  132","line":"          return 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  133","line":"        fi"},
{"lineNum":"  134","line":"        ;;"},
{"lineNum":"  135","line":"      source|sources)"},
{"lineNum":"  136","line":"        sources=1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  137","line":"        if [ \"$readme\" == \"1\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  138","line":"          usage \"Error: readme and sources are mutually exclusive options\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  139","line":"          return 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  140","line":"        fi"},
{"lineNum":"  141","line":"        ;;"},
{"lineNum":"  142","line":"      *)"},
{"lineNum":"  143","line":"        if [ \"${opt:0:1}\" == \"-\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  144","line":"          bpkg_error \"unknown option: $opt\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  145","line":"          return 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  146","line":"        fi"},
{"lineNum":"  147","line":"        if [ \"$pkg\" == \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  148","line":"          pkg=$opt","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  149","line":"        fi"},
{"lineNum":"  150","line":"    esac"},
{"lineNum":"  151","line":"  done"},
{"lineNum":"  152","line":""},
{"lineNum":"  153","line":"  if [ \"$pkg\" == \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  154","line":"    usage","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  155","line":"    return 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  156","line":"  fi"},
{"lineNum":"  157","line":""},
{"lineNum":"  158","line":"  local i=0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  159","line":"  for remote in \"${BPKG_REMOTES[@]}\"; do","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  160","line":"    local git_remote=\"${BPKG_GIT_REMOTES[$i]}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  161","line":"    bpkg_select_remote \"$remote\" \"$git_remote\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  162","line":"    if [ ! -f \"$BPKG_REMOTE_INDEX_FILE\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  163","line":"      bpkg_warn \"no index file found for remote: ${remote}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  164","line":"      bpkg_warn \"You should run \\`bpkg update\' before running this command.\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  165","line":"      i=$((i+1))","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  166","line":"      continue","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  167","line":"    fi"},
{"lineNum":"  168","line":""},
{"lineNum":"  169","line":"    OLDIFS=\"$IFS\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  170","line":"    IFS=$\'\\n\'","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  171","line":"    for line in $(cat $BPKG_REMOTE_INDEX_FILE); do","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  172","line":"      local name=$(echo \"$line\" | cut -d\\| -f1 | tr -d \' \')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  173","line":"      local desc=$(echo \"$line\" | cut -d\\| -f2)","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  174","line":"      if [ \"$name\" == \"$pkg\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  175","line":"        IFS=\"$OLDIFS\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  176","line":"        show_package \"$pkg\" \"$desc\" \"$readme\" \"$sources\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  177","line":"        IFS=$\'\\n\'","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  178","line":"        return 0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  179","line":"      fi"},
{"lineNum":"  180","line":"    done"},
{"lineNum":"  181","line":"    IFS=\"$OLDIFS\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  182","line":"    i=$((i+1))","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  183","line":"  done"},
{"lineNum":"  184","line":""},
{"lineNum":"  185","line":"  bpkg_error \"package not found: $pkg\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  186","line":"  return 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  187","line":"}"},
{"lineNum":"  188","line":""},
{"lineNum":"  189","line":"if [[ ${BASH_SOURCE[0]} != $0 ]]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  190","line":"  export -f bpkg_show","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  191","line":"elif bpkg_validate; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  192","line":"  bpkg_show \"${@}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"  193","line":"fi"},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "shellspec lib/json/spec spec", "date" : "2021-03-28 23:31:54", "instrumented" : 129, "covered" : 0,};
var merged_data = [];
