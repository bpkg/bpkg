var data = {lines:[
{"lineNum":"    1","line":"#!/bin/bash"},
{"lineNum":"    2","line":""},
{"lineNum":"    3","line":"VERSION=\"0.0.1\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    4","line":""},
{"lineNum":"    5","line":"if ! type -f bpkg-utils &>/dev/null; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    6","line":"  echo \"error: bpkg-utils not found, aborting\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    7","line":"  exit 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    8","line":"else"},
{"lineNum":"    9","line":"  source $(which bpkg-utils)","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   10","line":"fi"},
{"lineNum":"   11","line":""},
{"lineNum":"   12","line":"bpkg_initrc","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   13","line":""},
{"lineNum":"   14","line":"usage () {"},
{"lineNum":"   15","line":"  echo \"bpkg-update [-h] [-V]\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   16","line":"  echo","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   17","line":"  echo \"Update local bpkg index for listing and searching packages\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   18","line":"}"},
{"lineNum":"   19","line":""},
{"lineNum":"   20","line":"bpkg_update_remote() {"},
{"lineNum":"   21","line":"  local remote=$1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   22","line":"  local git_remote=$2","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   23","line":"  local wiki_url=\"\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   24","line":"  local wiki=\"\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   25","line":""},
{"lineNum":"   26","line":"  bpkg_select_remote \"$remote\" \"$git_remote\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   27","line":""},
{"lineNum":"   28","line":"  local index=$BPKG_REMOTE_INDEX","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   29","line":"  mkdir -p \"$index\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   30","line":""},
{"lineNum":"   31","line":"  local index_file=\"$index/index.txt\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   32","line":"  local auth=$BPKG_CURL_AUTH_PARAM","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   33","line":""},
{"lineNum":"   34","line":"  if [ \"$auth\" == \"\" ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   35","line":"    wiki_url=\"$BPKG_REMOTE/wiki/bpkg/bpkg/index.md\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   36","line":"  else"},
{"lineNum":"   37","line":"    # GHE wiki urls have a unique path structure"},
{"lineNum":"   38","line":"    wiki_url=\"$BPKG_REMOTE/raw/wiki/bpkg/bpkg/index.md\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   39","line":"  fi"},
{"lineNum":"   40","line":""},
{"lineNum":"   41","line":"  #echo \"curl -slo- $auth \'$wiki_url\' | grep -o \'\\[.*\\](.*).*\'\""},
{"lineNum":"   42","line":"  repo_list=$(curl -sLo- $auth \"$wiki_url\" | grep -o \'\\[.*\\](.*).*\' | sed \'s/\\[\\(.*\\)\\](.*)[ \\-]*/\\1|/\' )","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   43","line":""},
{"lineNum":"   44","line":"  num_repos=$(echo \"$repo_list\" | wc -l | tr -d \' \')","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   45","line":"  bpkg_info \"indexing ${num_repos} repos from $BPKG_REMOTE_HOST to $index_file\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   46","line":"  echo \"$repo_list\" > $index_file","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   47","line":"}"},
{"lineNum":"   48","line":""},
{"lineNum":"   49","line":"bpkg_update () {"},
{"lineNum":"   50","line":"  for opt in \"${@}\"; do","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   51","line":"    case \"$opt\" in","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   52","line":"      -V|--version)"},
{"lineNum":"   53","line":"        echo \"${VERSION}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   54","line":"        return 0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   55","line":"        ;;"},
{"lineNum":"   56","line":"      -h|--help)"},
{"lineNum":"   57","line":"        usage","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   58","line":"        return 0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   59","line":"        ;;"},
{"lineNum":"   60","line":"      *)"},
{"lineNum":"   61","line":"        if [ \"${opt:0:1}\" == \'-\' ]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   62","line":"          bpkg_error \"unknown option: $opt\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   63","line":"          return 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   64","line":"        fi"},
{"lineNum":"   65","line":"        ;;"},
{"lineNum":"   66","line":"    esac"},
{"lineNum":"   67","line":"  done"},
{"lineNum":"   68","line":""},
{"lineNum":"   69","line":"  local let i=0","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   70","line":"  for remote in \"${BPKG_REMOTES[@]}\"; do","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   71","line":"    local git_remote=${BPKG_GIT_REMOTES[$i]}","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   72","line":"    bpkg_update_remote \"$remote\" \"$git_remote\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   73","line":"    i=$((i+1))","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   74","line":"  done"},
{"lineNum":"   75","line":"}"},
{"lineNum":"   76","line":""},
{"lineNum":"   77","line":"if [[ ${BASH_SOURCE[0]} != $0 ]]; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   78","line":"  export -f bpkg_update","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   79","line":"elif bpkg_validate; then","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   80","line":"  bpkg_update \"${@}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   81","line":"fi"},
{"lineNum":"   82","line":""},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "shellspec lib/json/spec spec", "date" : "2021-03-28 23:31:54", "instrumented" : 43, "covered" : 0,};
var merged_data = [];
